import{s as x,e as v,a as j,c as m,b,l as S,g as C,f as g,m as i,i as D,h as p,n as J,p as z,q as y}from"../chunks/scheduler.BaiVm2Fr.js";import{e as P,u as O,d as w,c as L}from"../chunks/dsv.CP827gCi.js";import{S as N,i as Q}from"../chunks/index.DWRkMoV3.js";function V(c,t,e){const l=c.slice();return l[3]=t[e],l}function G(c){let t,e,l,u;return{c(){t=v("div"),e=v("img"),this.h()},l(r){t=m(r,"DIV",{class:!0});var a=b(t);e=m(a,"IMG",{src:!0,alt:!0,loading:!0,class:!0}),a.forEach(g),this.h()},h(){y(e.src,l=c[3].imagen)||i(e,"src",l),i(e,"alt",u=`Publicación ${c[3].indice}`),i(e,"loading","lazy"),i(e,"class","svelte-1jphtf4"),i(t,"class","card-image svelte-1jphtf4")},m(r,a){D(r,t,a),p(t,e)},p(r,a){a&1&&!y(e.src,l=r[3].imagen)&&i(e,"src",l),a&1&&u!==(u=`Publicación ${r[3].indice}`)&&i(e,"alt",u)},d(r){r&&g(t)}}}function R(c){let t,e,l,u,r,a;return{c(){t=v("a"),e=v("div"),l=v("img"),this.h()},l(s){t=m(s,"A",{href:!0,target:!0,class:!0});var n=b(t);e=m(n,"DIV",{class:!0});var _=b(e);l=m(_,"IMG",{src:!0,alt:!0,loading:!0,class:!0}),_.forEach(g),n.forEach(g),this.h()},h(){y(l.src,u=c[3].imagen)||i(l,"src",u),i(l,"alt",r=`Publicación ${c[3].indice}`),i(l,"loading","lazy"),i(l,"class","svelte-1jphtf4"),i(e,"class","card-image svelte-1jphtf4"),i(t,"href",a=c[3].link),i(t,"target","_blank"),i(t,"class","svelte-1jphtf4")},m(s,n){D(s,t,n),p(t,e),p(e,l)},p(s,n){n&1&&!y(l.src,u=s[3].imagen)&&i(l,"src",u),n&1&&r!==(r=`Publicación ${s[3].indice}`)&&i(l,"alt",r),n&1&&a!==(a=s[3].link)&&i(t,"href",a)},d(s){s&&g(t)}}}function $(c,t){let e,l;function u(s,n){return s[3].link?R:G}let r=u(t),a=r(t);return{key:c,first:null,c(){e=v("div"),a.c(),l=j(),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=b(e);a.l(n),l=C(n),n.forEach(g),this.h()},h(){i(e,"class","card svelte-1jphtf4"),this.first=e},m(s,n){D(s,e,n),a.m(e,null),p(e,l)},p(s,n){t=s,r===(r=u(t))&&a?a.p(t,n):(a.d(1),a=r(t),a&&(a.c(),a.m(e,l)))},d(s){s&&g(e),a.d()}}}function U(c){let t,e,l,u="Artículos",r,a,s="Libros",n,_,A="Capítulos",q,d=[],E=new Map,k=P(c[0]);const M=o=>o[3].indice;for(let o=0;o<k.length;o+=1){let h=V(c,k,o),f=M(h);E.set(f,d[o]=$(f,h))}return{c(){t=v("div"),e=v("div"),l=v("a"),l.textContent=u,r=j(),a=v("a"),a.textContent=s,n=j(),_=v("a"),_.textContent=A,q=j();for(let o=0;o<d.length;o+=1)d[o].c();this.h()},l(o){t=m(o,"DIV",{class:!0});var h=b(t);e=m(h,"DIV",{class:!0});var f=b(e);l=m(f,"A",{href:!0,class:!0,"data-svelte-h":!0}),S(l)!=="svelte-1jy7raq"&&(l.textContent=u),r=C(f),a=m(f,"A",{href:!0,class:!0,"data-svelte-h":!0}),S(a)!=="svelte-kgt0bu"&&(a.textContent=s),n=C(f),_=m(f,"A",{href:!0,class:!0,"data-svelte-h":!0}),S(_)!=="svelte-12xc4l2"&&(_.textContent=A),q=C(f);for(let I=0;I<d.length;I+=1)d[I].l(f);f.forEach(g),h.forEach(g),this.h()},h(){i(l,"href","/publicaciones/articulos"),i(l,"class","link svelte-1jphtf4"),i(a,"href","/publicaciones/libros"),i(a,"class","link svelte-1jphtf4"),i(_,"href","/publicaciones/capitulos"),i(_,"class","link svelte-1jphtf4"),i(e,"class","grid svelte-1jphtf4"),i(t,"class","container svelte-1jphtf4")},m(o,h){D(o,t,h),p(t,e),p(e,l),p(e,r),p(e,a),p(e,n),p(e,_),p(e,q);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(e,null)},p(o,[h]){h&1&&(k=P(o[0]),d=O(d,h,M,1,o,k,E,e,w,$,null,V))},i:J,o:J,d(o){o&&g(t);for(let h=0;h<d.length;h+=1)d[h].d()}}}function Y(c){for(let t=c.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[c[t],c[e]]=[c[e],c[t]]}}function B(c,t,e){let l=[];async function u(){const r=localStorage.getItem("publicationsData");if(r)e(0,l=JSON.parse(r));else{const a="https://docs.google.com/spreadsheets/d/e/2PACX-1vQR9SJLkMxmqUQBfO5q-SOOssY5qwzQz6UxuEYobaWtJi4rqZuHpjuaiz3VnRJdxdTkq-L3hfmNm8Jh/pub?output=csv";try{const s=await L(a);Y(s),e(0,l=s),localStorage.setItem("publicationsData",JSON.stringify(l))}catch(s){console.error("Error fetching data:",s)}finally{}}}return z(()=>{u()}),[l]}class X extends N{constructor(t){super(),Q(this,t,B,U,x,{})}}export{X as component};
