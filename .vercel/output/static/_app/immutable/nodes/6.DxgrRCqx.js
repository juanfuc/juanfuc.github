import{s as V,e as m,a as S,c as _,b as g,l as J,g as E,f as d,m as r,i as b,h as v,n as D,p as P,q as k}from"../chunks/scheduler.BaiVm2Fr.js";import{e as I,u as $,d as z,c as A}from"../chunks/dsv.CP827gCi.js";import{S as L,i as O}from"../chunks/index.DWRkMoV3.js";function q(n,e,s){const a=n.slice();return a[3]=e[s],a}function C(n){let e,s,a,u;return{c(){e=m("div"),s=m("img"),this.h()},l(l){e=_(l,"DIV",{class:!0});var t=g(e);s=_(t,"IMG",{src:!0,alt:!0,loading:!0,class:!0}),t.forEach(d),this.h()},h(){k(s.src,a=n[3].imagen)||r(s,"src",a),r(s,"alt",u=`Publicación ${n[3].indice}`),r(s,"loading","lazy"),r(s,"class","svelte-1ms2say"),r(e,"class","card-image svelte-1ms2say")},m(l,t){b(l,e,t),v(e,s)},p(l,t){t&1&&!k(s.src,a=l[3].imagen)&&r(s,"src",a),t&1&&u!==(u=`Publicación ${l[3].indice}`)&&r(s,"alt",u)},d(l){l&&d(e)}}}function w(n){let e,s,a,u,l,t;return{c(){e=m("a"),s=m("div"),a=m("img"),this.h()},l(i){e=_(i,"A",{href:!0,target:!0,class:!0});var c=g(e);s=_(c,"DIV",{class:!0});var p=g(s);a=_(p,"IMG",{src:!0,alt:!0,loading:!0,class:!0}),p.forEach(d),c.forEach(d),this.h()},h(){k(a.src,u=n[3].imagen)||r(a,"src",u),r(a,"alt",l=`Publicación ${n[3].indice}`),r(a,"loading","lazy"),r(a,"class","svelte-1ms2say"),r(s,"class","card-image svelte-1ms2say"),r(e,"href",t=n[3].link),r(e,"target","_blank"),r(e,"class","svelte-1ms2say")},m(i,c){b(i,e,c),v(e,s),v(s,a)},p(i,c){c&1&&!k(a.src,u=i[3].imagen)&&r(a,"src",u),c&1&&l!==(l=`Publicación ${i[3].indice}`)&&r(a,"alt",l),c&1&&t!==(t=i[3].link)&&r(e,"href",t)},d(i){i&&d(e)}}}function M(n,e){let s,a;function u(i,c){return i[3].link?w:C}let l=u(e),t=l(e);return{key:n,first:null,c(){s=m("div"),t.c(),a=S(),this.h()},l(i){s=_(i,"DIV",{class:!0});var c=g(s);t.l(c),a=E(c),c.forEach(d),this.h()},h(){r(s,"class","card svelte-1ms2say"),this.first=s},m(i,c){b(i,s,c),t.m(s,null),v(s,a)},p(i,c){e=i,l===(l=u(e))&&t?t.p(e,c):(t.d(1),t=l(e),t&&(t.c(),t.m(s,a)))},d(i){i&&d(s),t.d()}}}function H(n){let e,s,a='<a href="/publicaciones/articulos" class="link svelte-1ms2say">Artículos</a> <a href="/publicaciones/libros" class="link svelte-1ms2say">Libros</a> <a href="/publicaciones/capitulos" class="link svelte-1ms2say">Capítulos</a>',u,l,t=[],i=new Map,c=I(n[0]);const p=o=>o[3].indice;for(let o=0;o<c.length;o+=1){let f=q(n,c,o),h=p(f);i.set(h,t[o]=M(h,f))}return{c(){e=m("div"),s=m("div"),s.innerHTML=a,u=S(),l=m("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var f=g(e);s=_(f,"DIV",{class:!0,"data-svelte-h":!0}),J(s)!=="svelte-q93heg"&&(s.innerHTML=a),u=E(f),l=_(f,"DIV",{class:!0});var h=g(l);for(let y=0;y<t.length;y+=1)t[y].l(h);h.forEach(d),f.forEach(d),this.h()},h(){r(s,"class","link-container svelte-1ms2say"),r(l,"class","grid svelte-1ms2say"),r(e,"class","container svelte-1ms2say")},m(o,f){b(o,e,f),v(e,s),v(e,u),v(e,l);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(l,null)},p(o,[f]){f&1&&(c=I(o[0]),t=$(t,f,p,1,o,c,i,l,z,M,null,q))},i:D,o:D,d(o){o&&d(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function N(n){for(let e=n.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[n[e],n[s]]=[n[s],n[e]]}}function Q(n,e,s){let a=[];async function u(){const l=localStorage.getItem("publicationsData");if(l)s(0,a=JSON.parse(l));else{const t="https://docs.google.com/spreadsheets/d/e/2PACX-1vQR9SJLkMxmqUQBfO5q-SOOssY5qwzQz6UxuEYobaWtJi4rqZuHpjuaiz3VnRJdxdTkq-L3hfmNm8Jh/pub?output=csv";try{const i=await A(t);N(i),s(0,a=i),localStorage.setItem("publicationsData",JSON.stringify(a))}catch(i){console.error("Error fetching data:",i)}finally{}}}return P(()=>{u()}),[a]}class R extends L{constructor(e){super(),O(this,e,Q,H,V,{})}}export{R as component};
